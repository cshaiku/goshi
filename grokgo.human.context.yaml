# Application Context Manifest
# This file is the canonical source of intent for the application.
# If code or documentation conflicts with this file, this file wins.

meta:
  operationalized_by: "grokgo.self.model.yaml"
  note: >
    This document defines human intent and scope.
    Enforceable rules live in the self-model.

application:
  name: "GrokGo"
  one_sentence_purpose: >
    A Go-native CLI client for the Grok API that can inspect, diagnose,
    and self-heal its own dependencies and execution environment to remain
    functional over time.

intent:
  primary_problems:
    - "Upstream API changes that break the CLI"
    - "Missing or incompatible runtime dependencies required by GrokGo"
    - "Fragile CLI tooling that fails without guidance or recovery paths"
    - "Difficult-to-diagnose failures in headless or CI environments"
  target_users:
    - "Developers using GrokGo as a CLI interface to Grok"
    - "Contributors maintaining or extending GrokGo"
    - "CI systems invoking GrokGo non-interactively"
  non_goals:
    - "Healing or managing arbitrary system environments"
    - "Acting as a general-purpose system doctor"
    - "Repairing other applications or developer tooling"
    - "Making system-wide changes unrelated to GrokGo’s operation"

principles:
  values:
    - "Self-reliance of the tool"
    - "Explicit intent over implicit repair"
    - "Deterministic behavior over heuristics"
    - "Guidance over silent automation"
  accepted_tradeoffs:
    - "Limited scope in exchange for reliability"
    - "User involvement when ambiguity exists"
    - "Refusal to act outside GrokGo’s responsibility boundary"

features:
  - name: "Self-Detection"
    why_it_exists: "GrokGo must know whether it can run correctly"
    problem_solved: "Opaque failures due to missing or incompatible dependencies"
    explicit_exclusions:
      - "No scanning of unrelated system components"

  - name: "Self-Diagnosis"
    why_it_exists: "Failures must be explained in GrokGo-specific terms"
    problem_solved: "Unclear error states when GrokGo or its API integration breaks"
    explicit_exclusions:
      - "No diagnosis of external applications"

  - name: "Repair Planning"
    why_it_exists: "Developers must understand how GrokGo could recover"
    problem_solved: "Unsafe or blind attempts to fix CLI breakage"
    explicit_exclusions:
      - "No execution without explicit consent"

  - name: "Guarded Self-Healing"
    why_it_exists: "GrokGo must be able to restore its own operability"
    problem_solved: "CLI breakage after dependency or API changes"
    explicit_exclusions:
      - "No system-wide changes beyond GrokGo’s needs"

  - name: "Verification"
    why_it_exists: "A repaired CLI must prove it works"
    problem_solved: "False success after attempted fixes"
    explicit_exclusions:
      - "No assumption-based verification"

  - name: "Machine-Readable Output"
    why_it_exists: "Automation and CI require deterministic signals"
    problem_solved: "Brittle parsing of CLI output"
    explicit_exclusions:
      - "No mixed human and JSON output"

constraints:
  technical:
    - "Single static Go binary"
    - "No runtime dependency on Node.js"
    - "Explicit command execution (no shell interpolation)"
  product:
    - "All self-healing is scoped to GrokGo itself"
    - "Dry-run is the default behavior"
  ethical:
    - "No hidden or unrelated system mutation"
    - "No data exfiltration"
  operational:
    - "Must function over SSH and in CI"
    - "Must remain usable even when partially broken"

evolution_policy:
  allowed_growth:
    - "Improved self-diagnosis of GrokGo failures"
    - "Adaptation to Grok API changes"
    - "Better developer guidance during breakage"
    - "Optional LLM-assisted explanations of failures"
  disallowed_directions:
    - "Becoming a general environment manager"
    - "Healing systems unrelated to GrokGo"
    - "Autonomous repair without user consent"
    - "Expanding scope beyond GrokGo’s responsibility"

operational_context:
  source_of_truth: "This manifest"
  data_ownership_stance: "All data remains local to the user"
  privacy_posture: "No telemetry or reporting by default"
  deployment_assumptions:
    - "Executed locally or in CI"
    - "Used as a CLI interface to Grok services"

success_criteria:
  - "GrokGo can detect when it is unable to function"
  - "Failures are explained in actionable terms"
  - "Self-healing never exceeds GrokGo’s scope"
  - "Developers can recover GrokGo without guesswork"

canonical_rule: >
  If documentation, code, or features conflict with this manifest,
  this manifest is authoritative.
